function preloader_resize(){console.log("preloader_resize");var e=window.innerWidth,o=getComputedStyle(loader),a=e/parseInt(o.width);loader.style.height=e/a+"px"}function init_preloader(){console.log("init_preloader()"),loader_wrap.style.display=loader_wrap_original_display,loader_wrap.classList.add(animation_classes.rotation,animation_classes.scale_before,animation_classes.scale_after),loader_wrap.classList.add("active"),setTimeout(function(){loader_wrap.style.opacity="1"},10),loader_square&&(window.addEventListener("optimizedResize",preloader_resize),preloader_resize()),document.body.style.overflow="hidden",document.body.style.position="fixed"}function remove_preloader(){console.log("remove_preloader()"),loader_square&&window.removeEventListener("optimizedResize",preloader_resize),loader_wrap&&(loader_wrap.style.transition="opacity "+loader_fade_time_preloader/1e3+"s",loader_wrap.style.opacity="0",setTimeout(function(){loader_wrap.style.display="none",loader_wrap.classList.remove(animation_classes.rotation,animation_classes.scale_before,animation_classes.scale_after),loader_wrap.classList.remove("active")},loader_fade_time_preloader)),document.body.style.overflow="",document.body.style.position=""}function init_optimizedResize(){!function(e,o,a){var r=!1;(a=a||window).addEventListener(e,function(){r||(r=!0,requestAnimationFrame(function(){a.dispatchEvent(new CustomEvent(o)),r=!1}))})}("resize","optimizedResize")}function init_loader_demo(){loader_demo=!1,console.log("Демо-режим"),setInterval(function(){loader_wrap.style.display==loader_wrap_original_display?remove_preloader():init_preloader()},loader_time_demo)}var loader_demo=!0,loader_square=!0,loader_wrap=document.querySelector("#loader_wrap"),loader_wrap_original_display=getComputedStyle(loader_wrap).display,loader=document.querySelector(".loader"),content_wrap=document.querySelector("#content_wrap"),loader_fade_time_preloader=700,loader_time_demo=3500,animation_classes={rotation:"loader_animation_rotation",scale_before:"loader_animation_scale_before",scale_after:"loader_animation_scale_after"};loader_square?(init_optimizedResize(),init_preloader()):init_preloader(),content_wrap.addEventListener("click",init_preloader),content_wrap.style.cursor="pointer",loader.addEventListener("click",remove_preloader),loader.style.cursor="pointer",loader_demo&&init_loader_demo();