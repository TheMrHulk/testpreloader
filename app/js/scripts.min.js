function init_preloader(){console.log("init_preloader()"),loader_wrap.style.display=loader_wrap_original_display,loader_wrap.classList.add(animation_classes.rotation,animation_classes.scale_before,animation_classes.scale_after),loader_wrap.classList.add("active"),setTimeout(function(){loader_wrap.style.opacity="1"},10),loader_square&&(window.addEventListener("optimizedResize",preloader_resize),preloader_resize())}function preloader_resize(){console.log("preloader_resize");var e=window.innerWidth,a=getComputedStyle(loader),r=e/parseInt(a.width);loader.style.height=e/r+"px"}function remove_preloader(){console.log("remove_preloader()"),loader_square&&window.removeEventListener("optimizedResize",preloader_resize),loader_wrap&&(loader_wrap.style.transition="opacity "+fade_time_preloader/1e3+"s",loader_wrap.style.opacity="0",setTimeout(function(){loader_wrap.style.display="none",loader_wrap.classList.remove(animation_classes.rotation,animation_classes.scale_before,animation_classes.scale_after),loader_wrap.classList.remove("active")},fade_time_preloader))}function init_loader_demo(){loader_demo=!1,console.log("Демо-режим"),setInterval(function(){loader_wrap.style.display==loader_wrap_original_display?remove_preloader():init_preloader()},3500)}function init_optimizedResize(){!function(e,a,r){var o=!1;(r=r||window).addEventListener(e,function(){o||(o=!0,requestAnimationFrame(function(){r.dispatchEvent(new CustomEvent(a)),o=!1}))})}("resize","optimizedResize")}var loader_demo=!0,loader_square=!0,loader_wrap=document.querySelector("#loader_wrap"),loader_wrap_original_display=getComputedStyle(loader_wrap).display,loader=document.querySelector(".loader"),fade_time_preloader=700,animation_classes={rotation:"loader_animation_rotation",scale_before:"loader_animation_scale_before",scale_after:"loader_animation_scale_after"};loader_square&&(init_optimizedResize(),preloader_resize(),init_preloader()),document.querySelector("#content_wrap").addEventListener("click",init_preloader),document.querySelector("#content_wrap").style.cursor="pointer",loader.addEventListener("click",remove_preloader),loader.style.cursor="pointer",init_preloader(),loader_demo&&init_loader_demo();