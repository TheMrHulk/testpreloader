function init_preloader(){preloader_resize(),function(e,r,o){var d=!1;(o=o||window).addEventListener(e,function(){d||(d=!0,requestAnimationFrame(function(){o.dispatchEvent(new CustomEvent(r)),d=!1}))})}("resize","optimizedResize"),window.addEventListener("optimizedResize",preloader_resize)}function preloader_resize(){console.log("preloader_resize"),w_w=window.innerWidth,loader.style.height=w_w/loader_ratio+"px"}function remove_preloader(){console.log("remove_preloader"),window.removeEventListener("optimizedResize",preloader_resize),loader_wrap&&(loader_wrap.classList.add("opacity0"),setTimeout(function(){body.removeChild(loader_wrap)},1e3))}var w_w=window.innerWidth,loader=document.querySelector(".loader"),loader_comp_style=getComputedStyle(loader),loader_w=parseInt(loader_comp_style.width),loader_ratio=w_w/loader_w,body=document.querySelector("body"),loader_wrap=document.querySelector("#loader_wrap");loader.addEventListener("click",remove_preloader),init_preloader();